<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"whitetail-o.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.14.2","exturl":false,"sidebar":{"position":"right","display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="一、两者的应用列举1-1.曲面着色器的应用①海浪、雪地等   如右图一样，将一条直线进行细分，向一条曲线慢慢逼近    ②著名的应用：和置换贴图（DIsplacement mapping，也叫位移贴图）结合使用     使用普通法线的模型，在边缘部分的凹凸感会不理想  如果使用置换贴图，因为它是真正改变物体的形状，所以边缘部分的凹凸感就会很真实 注意：使用置换贴图，对模型的面数有要求。  正是这个">
<meta property="og:type" content="article">
<meta property="og:title" content="HPP_Graphics_3.3 曲面细分和几何着色器">
<meta property="og:url" content="https://whitetail-o.github.io/2023/02/15/HPP_Graphics_3.3_TessAndGs/index.html">
<meta property="og:site_name" content="WhiteTail&#39;s Blog">
<meta property="og:description" content="一、两者的应用列举1-1.曲面着色器的应用①海浪、雪地等   如右图一样，将一条直线进行细分，向一条曲线慢慢逼近    ②著名的应用：和置换贴图（DIsplacement mapping，也叫位移贴图）结合使用     使用普通法线的模型，在边缘部分的凹凸感会不理想  如果使用置换贴图，因为它是真正改变物体的形状，所以边缘部分的凹凸感就会很真实 注意：使用置换贴图，对模型的面数有要求。  正是这个">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625196811887-90a8c810-ef28-49b5-a69c-c5296b02b72f.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625196936041-6fc1b0a9-43c6-495a-9665-ba7568289168.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625197322689-e6e1d35e-d82e-4485-8ca2-72923d96969c.gif">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625197503763-803a51bd-5e93-47e1-b2e4-afc22bb7c206.gif">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625197329054-12e8dc66-0e04-40bf-b7ec-33c578e5518a.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625198192638-c9c13509-02bc-486e-9b84-40756573e58e.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200279059-61d9ced3-9b01-4d76-bb9c-abe3e46db26c.gif">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200292416-55458d78-ec19-4298-b46c-6ebdd38895b0.gif">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200307439-40333bda-affe-4f54-aef9-b35c386fdb4d.gif">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625200604403-77d787e3-9386-4620-946a-df42d6431436.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625201860508-1ca3af9b-b450-484c-99d3-c89251867f9c.png">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625201863667-6250012a-eb0a-4b4a-b823-a0155e7cecb9.png">
<meta property="og:image" content="https://whitetail-o.github.io/2023/02/15/HPP_Graphics_3.3_TessAndGs/Homework1.png">
<meta property="article:published_time" content="2023-02-15T09:40:32.000Z">
<meta property="article:modified_time" content="2023-03-17T05:15:54.313Z">
<meta property="article:author" content="WhiteTail">
<meta property="article:tag" content="图形学">
<meta property="article:tag" content="百人计划">
<meta property="article:tag" content="曲面细分着色器">
<meta property="article:tag" content="几何着色器">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625196811887-90a8c810-ef28-49b5-a69c-c5296b02b72f.png">


<link rel="canonical" href="https://whitetail-o.github.io/2023/02/15/HPP_Graphics_3.3_TessAndGs/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://whitetail-o.github.io/2023/02/15/HPP_Graphics_3.3_TessAndGs/","path":"2023/02/15/HPP_Graphics_3.3_TessAndGs/","title":"HPP_Graphics_3.3 曲面细分和几何着色器"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>HPP_Graphics_3.3 曲面细分和几何着色器 | WhiteTail's Blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="WhiteTail's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">WhiteTail's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E4%B8%A4%E8%80%85%E7%9A%84%E5%BA%94%E7%94%A8%E5%88%97%E4%B8%BE"><span class="nav-text">一、两者的应用列举</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E6%9B%B2%E9%9D%A2%E7%9D%80%E8%89%B2%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">1-1.曲面着色器的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A0%E6%B5%B7%E6%B5%AA%E3%80%81%E9%9B%AA%E5%9C%B0%E7%AD%89"><span class="nav-text">①海浪、雪地等</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A1%E8%91%97%E5%90%8D%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%9A%E5%92%8C%E7%BD%AE%E6%8D%A2%E8%B4%B4%E5%9B%BE%EF%BC%88DIsplacement-mapping%EF%BC%8C%E4%B9%9F%E5%8F%AB%E4%BD%8D%E7%A7%BB%E8%B4%B4%E5%9B%BE%EF%BC%89%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8"><span class="nav-text">②著名的应用：和置换贴图（DIsplacement mapping，也叫位移贴图）结合使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A2%E9%9B%AA%E5%9C%B0%E9%87%8C%E5%87%BA%E7%8E%B0%E7%9A%84%E8%84%9A%E5%8D%B0"><span class="nav-text">③雪地里出现的脚印</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8%E5%A4%8D%E6%9D%82%E7%9A%84%E6%A8%A1%E5%9E%8B%EF%BC%8C%E8%80%8C%E8%A6%81%E7%94%A8%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86%E7%9D%80%E8%89%B2%E5%99%A8%EF%BC%9F"><span class="nav-text">1-2.为什么不用复杂的模型，而要用曲面细分着色器？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%87%A0%E4%BD%95%E7%9D%80%E8%89%B2%E5%99%A8%E7%9A%84%E5%BA%94%E7%94%A8"><span class="nav-text">2.几何着色器的应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A0%E5%87%A0%E4%BD%95%E5%8A%A8%E7%94%BB"><span class="nav-text">①几何动画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A1%E8%8D%89%E5%9C%B0%E7%AD%89%E6%95%88%E6%9E%9C%EF%BC%88%E4%B8%8E%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86%E7%BB%93%E5%90%88%EF%BC%89"><span class="nav-text">②草地等效果（与曲面细分结合）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E4%BB%8E%E7%AE%A1%E7%BA%BF%E9%A1%BA%E5%BA%8F%E6%9D%A5%E7%9C%8B"><span class="nav-text">二、从管线顺序来看</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86%E7%9D%80%E8%89%B2%E5%99%A8-Tessellation-shader%EF%BC%88TESS%EF%BC%89"><span class="nav-text">三、曲面细分着色器-Tessellation shader（TESS）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-TESS%E7%9A%84%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA"><span class="nav-text">1.TESS的输入和输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5"><span class="nav-text">输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-text">功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA"><span class="nav-text">输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-TESS%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="nav-text">2.TESS的流程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hull-shader"><span class="nav-text">Hull shader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tessellation-Primitive-Generator"><span class="nav-text">Tessellation Primitive Generator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Domain-shader"><span class="nav-text">Domain shader</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Hull-shader%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3"><span class="nav-text">3.Hull shader参数详解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A0Tessellation-Factor"><span class="nav-text">①Tessellation Factor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E2%91%A1Inner-Tessellation-Factor"><span class="nav-text">②Inner Tessellation Factor</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86Demo%E9%83%A8%E5%88%86"><span class="nav-text">4.曲面细分Demo部分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Demo1%EF%BC%9A%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86%E7%AE%97%E6%B3%95%E5%B1%95%E7%A4%BA"><span class="nav-text">Demo1：曲面细分算法展示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Demo2%EF%BC%9A%E5%92%8C%E7%BD%AE%E6%8D%A2%E8%B4%B4%E5%9B%BE%E7%BB%93%E5%90%88"><span class="nav-text">Demo2：和置换贴图结合</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%87%A0%E4%BD%95%E7%9D%80%E8%89%B2%E5%99%A8-Geometry-shader-%EF%BC%88GS%EF%BC%89"><span class="nav-text">四、几何着色器-Geometry shader （GS）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-GS%E7%9A%84%E8%BE%93%E5%85%A5%E5%92%8C%E8%BE%93%E5%87%BA"><span class="nav-text">1.GS的输入和输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5-1"><span class="nav-text">输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%87%BA-1"><span class="nav-text">输出</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%B5%81%E7%A8%8B"><span class="nav-text">2.流程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%85%B6%E4%BB%96%E8%B5%84%E6%96%99"><span class="nav-text">五、其他资料</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Homework"><span class="nav-text">Homework</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="WhiteTail"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">WhiteTail</p>
  <div class="site-description" itemprop="description">现已有Games101、Games202、百人计划等笔记，后续准备上传DX12、Unity的SRP等笔记。</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">45</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    相关文章
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/2023/02/01/Games202_01_Recap%20of%20CG%20Basics/" rel="bookmark">
        <time class="popular-posts-time">2023-02-01</time>
        <br>
      Games202-1 Recap of CG Basics
      </a>
    </li>
  </ul>

          </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://whitetail-o.github.io/2023/02/15/HPP_Graphics_3.3_TessAndGs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="WhiteTail">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WhiteTail's Blog">
      <meta itemprop="description" content="现已有Games101、Games202、百人计划等笔记，后续准备上传DX12、Unity的SRP等笔记。">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="HPP_Graphics_3.3 曲面细分和几何着色器 | WhiteTail's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          HPP_Graphics_3.3 曲面细分和几何着色器
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
  
  
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2023-02-15 17:40:32" itemprop="dateCreated datePublished" datetime="2023-02-15T17:40:32+08:00">2023-02-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2023-03-17 13:15:54" itemprop="dateModified" datetime="2023-03-17T13:15:54+08:00">2023-03-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/" itemprop="url" rel="index"><span itemprop="name">百人计划</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="一、两者的应用列举"><a href="#一、两者的应用列举" class="headerlink" title="一、两者的应用列举"></a>一、两者的应用列举</h1><h2 id="1-1-曲面着色器的应用"><a href="#1-1-曲面着色器的应用" class="headerlink" title="1-1.曲面着色器的应用"></a>1-1.曲面着色器的应用</h2><h3 id="①海浪、雪地等"><a href="#①海浪、雪地等" class="headerlink" title="①海浪、雪地等"></a>①海浪、雪地等</h3><ul>
<li><ul>
<li><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625196811887-90a8c810-ef28-49b5-a69c-c5296b02b72f.png" alt="img"></li>
<li>如右图一样，将一条直线进行细分，向一条曲线慢慢逼近</li>
</ul>
</li>
</ul>
<h3 id="②著名的应用：和置换贴图（DIsplacement-mapping，也叫位移贴图）结合使用"><a href="#②著名的应用：和置换贴图（DIsplacement-mapping，也叫位移贴图）结合使用" class="headerlink" title="②著名的应用：和置换贴图（DIsplacement mapping，也叫位移贴图）结合使用"></a>②著名的应用：和置换贴图（DIsplacement mapping，也叫位移贴图）结合使用</h3><ul>
<li><ul>
<li><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625196936041-6fc1b0a9-43c6-495a-9665-ba7568289168.png" alt="img"></li>
</ul>
</li>
<li><p>使用普通法线的模型，在边缘部分的凹凸感会不理想</p>
</li>
<li>如果使用置换贴图，因为它是真正改变物体的形状，所以边缘部分的凹凸感就会很真实</li>
<li><p>注意：使用置换贴图，对模型的面数有要求。</p>
</li>
<li><p>正是这个原因，让它和曲面细分着色器有着很好的契合度。</p>
</li>
</ul>
<h3 id="③雪地里出现的脚印"><a href="#③雪地里出现的脚印" class="headerlink" title="③雪地里出现的脚印"></a>③雪地里出现的脚印</h3><ul>
<li>可以用曲面细分着色器进行优化</li>
</ul>
<h2 id="1-2-为什么不用复杂的模型，而要用曲面细分着色器？"><a href="#1-2-为什么不用复杂的模型，而要用曲面细分着色器？" class="headerlink" title="1-2.为什么不用复杂的模型，而要用曲面细分着色器？"></a>1-2.为什么不用复杂的模型，而要用曲面细分着色器？</h2><ul>
<li>曲面细分着色器可以根据距离/一些规则，动态的调整模型的复杂度，带来更好的性能。</li>
</ul>
<span id="more"></span>
<h2 id="2-几何着色器的应用"><a href="#2-几何着色器的应用" class="headerlink" title="2.几何着色器的应用"></a>2.几何着色器的应用</h2><h3 id="①几何动画"><a href="#①几何动画" class="headerlink" title="①几何动画"></a>①几何动画</h3><ul>
<li><img src="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625197322689-e6e1d35e-d82e-4485-8ca2-72923d96969c.gif" alt="img"><img src="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625197503763-803a51bd-5e93-47e1-b2e4-afc22bb7c206.gif" alt="img"></li>
<li>简单的几何动画、甚至可以做一些破碎的效果</li>
</ul>
<h3 id="②草地等效果（与曲面细分结合）"><a href="#②草地等效果（与曲面细分结合）" class="headerlink" title="②草地等效果（与曲面细分结合）"></a>②草地等效果（与曲面细分结合）</h3><ul>
<li><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625197329054-12e8dc66-0e04-40bf-b7ec-33c578e5518a.png" alt="img"><ul>
<li>自定义草的画法，再和曲面细分着色器结合，就可以得到一个可以动态调整草密度的一个草地效果。</li>
</ul>
</li>
</ul>
<h1 id="二、从管线顺序来看"><a href="#二、从管线顺序来看" class="headerlink" title="二、从管线顺序来看"></a>二、从管线顺序来看</h1><ul>
<li><p><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625198192638-c9c13509-02bc-486e-9b84-40756573e58e.png" alt="img"></p>
</li>
<li><p>整体顺序：顶点 → 曲面细分 → 几何 → 片元</p>
<ul>
<li><p>曲面细分又分为：Hull shader 、Tessellation Primitive Generator 、 Domain shader</p>
<ul>
<li><p><strong>Hull shader</strong>主要作用：定义一些细分的参数（如：每条边上如何细分，内部三角形如何细分）</p>
</li>
<li><p><strong>Tessellation Primitive Generator</strong>，不可编程的</p>
</li>
<li><p><strong>Domain shader</strong>：经过曲面细分着色器细分后的点是位于重心空间的，这部分的作用就是把它转化到我们要用的空间。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>在D3D11 和 OpenGL中，名字/叫法有差异，问题不大</li>
</ul>
<h1 id="三、曲面细分着色器-Tessellation-shader（TESS）"><a href="#三、曲面细分着色器-Tessellation-shader（TESS）" class="headerlink" title="三、曲面细分着色器-Tessellation shader（TESS）"></a>三、曲面细分着色器-Tessellation shader（TESS）</h1><h2 id="1-TESS的输入和输出"><a href="#1-TESS的输入和输出" class="headerlink" title="1.TESS的输入和输出"></a>1.TESS的输入和输出</h2><h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><ul>
<li>称为Patch，可以看成是多个顶点的集合，包含每个顶点的属性。（属性是所有顶点共享的，不是每个顶点有独自的属性）</li>
</ul>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li><p>将图元进行细分。</p>
</li>
<li><ul>
<li>图元可以是三角形、矩形等</li>
</ul>
</li>
<li><p>不同的图元，输入参数也不一样。</p>
</li>
</ul>
<h3 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h3><ul>
<li>细分后的顶点</li>
</ul>
<h2 id="2-TESS的流程"><a href="#2-TESS的流程" class="headerlink" title="2.TESS的流程"></a>2.TESS的流程</h2><p>Hull shader → Tessellation Primitive Generator →  Domain shader</p>
<h3 id="Hull-shader"><a href="#Hull-shader" class="headerlink" title="Hull shader"></a>Hull shader</h3><ul>
<li><p>定义细分的参数</p>
<ul>
<li>设定Tessellation factor以及Inside Tessellation factor</li>
</ul>
</li>
<li><p>（如果需要的话）可以对输入的Patch参数进行改变</p>
</li>
</ul>
<h3 id="Tessellation-Primitive-Generator"><a href="#Tessellation-Primitive-Generator" class="headerlink" title="Tessellation Primitive Generator"></a>Tessellation Primitive Generator</h3><ul>
<li>这部分是不可编程、无法控制的</li>
<li>进行细分操作</li>
</ul>
<h3 id="Domain-shader"><a href="#Domain-shader" class="headerlink" title="Domain shader"></a>Domain shader</h3><ul>
<li>对细分后的点进行处理，从重心空间（Barycentric coordinate system）转换到屏幕空间</li>
</ul>
<h2 id="3-Hull-shader参数详解"><a href="#3-Hull-shader参数详解" class="headerlink" title="3.Hull shader参数详解"></a>3.Hull shader参数详解</h2><h3 id="①Tessellation-Factor"><a href="#①Tessellation-Factor" class="headerlink" title="①Tessellation Factor"></a>①Tessellation Factor</h3><ul>
<li>定义把一条边分为几个部分</li>
<li><p><strong>切分的方法有三种</strong>：</p>
<ul>
<li><strong>equal_Spacing</strong><ul>
<li>把一条边等分（二、三分等等..）</li>
<li><img src="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200279059-61d9ced3-9b01-4d76-bb9c-abe3e46db26c.gif" alt="img"></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>fractional_even_spacing</strong></p>
<ul>
<li>向上取最近的偶数</li>
<li>最小值是2</li>
<li>会把周长分为n-2的等长部分、以及两端不等长的部分（两端部分和小数有关，具体看gif）</li>
<li><img src="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200292416-55458d78-ec19-4298-b46c-6ebdd38895b0.gif" alt="img"></li>
</ul>
</li>
<li><p><strong>fractional_odd_spacing</strong></p>
<ul>
<li>向上取最近的奇数</li>
<li>最小值是1</li>
<li>会把周长分为n-2的等长部分、以及两端不等长的部分</li>
<li><img src="https://cdn.nlark.com/yuque/0/2021/gif/12962324/1625200307439-40333bda-affe-4f54-aef9-b35c386fdb4d.gif" alt="img"></li>
</ul>
</li>
<li><p><strong>目的</strong>：让细分更加平滑</p>
</li>
</ul>
<h3 id="②Inner-Tessellation-Factor"><a href="#②Inner-Tessellation-Factor" class="headerlink" title="②Inner Tessellation Factor"></a>②Inner Tessellation Factor</h3><ul>
<li>定义内部的三角形/矩形是怎么画出来的</li>
<li><p>三角形情况</p>
</li>
<li><p><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625200604403-77d787e3-9386-4620-946a-df42d6431436.png" alt="img"></p>
</li>
</ul>
<ul>
<li><p>例如上图三等分的情况：</p>
<ul>
<li>将三条边三等分，然后从一个端点开始，取邻近的两个切分点做延长线，两者的交点就是新三角形的一个端点。以此类推就是左图的效果。</li>
</ul>
</li>
<li><p>上图四等分、甚至更多点的情况：</p>
<ul>
<li>上述三等分步骤之后，内部三角形的每个边的等分点做延长线，交点就是</li>
</ul>
</li>
<li><p>矩形情况</p>
<ul>
<li><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625201860508-1ca3af9b-b450-484c-99d3-c89251867f9c.png" alt="img"><img src="https://cdn.nlark.com/yuque/0/2021/png/12962324/1625201863667-6250012a-eb0a-4b4a-b823-a0155e7cecb9.png" alt="img"></li>
<li>同样的，做延长线，交点，直到没有交点或者交于重心一个点</li>
</ul>
</li>
</ul>
<h2 id="4-曲面细分Demo部分"><a href="#4-曲面细分Demo部分" class="headerlink" title="4.曲面细分Demo部分"></a>4.曲面细分Demo部分</h2><p>//注：代码直接复制的评论区里同学码出来的，懒得再打一遍了233</p>
<h3 id="Demo1：曲面细分算法展示"><a href="#Demo1：曲面细分算法展示" class="headerlink" title="Demo1：曲面细分算法展示"></a>Demo1：曲面细分算法展示</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//曲面细分Demo1</span></span><br><span class="line">Shader <span class="string">&quot;Unlit/TessShader&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">    Properties</span><br><span class="line">    &#123;</span><br><span class="line">        _TessellationUniform(<span class="string">&quot;TessellationUniform&quot;</span>,<span class="built_in">Range</span>(<span class="number">1</span>,<span class="number">64</span>)) = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    SubShader</span><br><span class="line">    &#123;</span><br><span class="line">        Tags &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> &#125;</span><br><span class="line">        LOD <span class="number">100</span></span><br><span class="line">        Pass</span><br><span class="line">        &#123;</span><br><span class="line">            CGPROGRAM</span><br><span class="line">            <span class="comment">//定义2个函数 hull domain</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> hull hullProgram</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> domain ds</span></span><br><span class="line">           </span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> vertex tessvert</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">            <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;UnityCG.cginc&quot;</span></span></span><br><span class="line">            <span class="comment">//引入曲面细分的头文件</span></span><br><span class="line">            <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Tessellation.cginc&quot;</span> </span></span><br><span class="line"></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> target 5.0</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">struct</span> VertexInput</span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex : POSITION;</span><br><span class="line">                float2 uv : TEXCOORD0;</span><br><span class="line">                float3 normal : NORMAL;</span><br><span class="line">                float4 tangent : TANGENT;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">struct</span> <span class="title class_">VertexOutput</span></span><br><span class="line">            &#123;</span><br><span class="line">                float2 uv : TEXCOORD0;</span><br><span class="line">                float4 vertex : SV_POSITION;</span><br><span class="line">                float3 normal : NORMAL;</span><br><span class="line">                float4 tangent : TANGENT;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="function">VertexOutput <span class="title">vert</span> <span class="params">(VertexInput v)</span></span></span><br><span class="line"><span class="function">            <span class="comment">//这个函数应用在domain函数中，用来空间转换的函数</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                VertexOutput o;</span><br><span class="line">                o.vertex = <span class="built_in">UnityObjectToClipPos</span>(v.vertex);</span><br><span class="line">                o.uv = v.uv;</span><br><span class="line">                o.tangent = v.tangent;</span><br><span class="line">                o.normal = v.normal;</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//有些硬件不支持曲面细分着色器，定义了该宏就能够在不支持的硬件上不会变粉，也不会报错</span></span><br><span class="line">            <span class="meta">#<span class="keyword">ifdef</span> UNITY_CAN_COMPILE_TESSELLATION</span></span><br><span class="line">                <span class="comment">//顶点着色器结构的定义</span></span><br><span class="line">                <span class="keyword">struct</span> <span class="title class_">TessVertex</span>&#123;</span><br><span class="line">                    float4 vertex : INTERNALTESSPOS;</span><br><span class="line">                    float3 normal : NORMAL;</span><br><span class="line">                    float4 tangent : TANGENT;</span><br><span class="line">                    float2 uv : TEXCOORD0;</span><br><span class="line">                &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">struct</span> <span class="title class_">OutputPatchConstant</span> &#123; </span><br><span class="line">                    <span class="comment">//不同的图元，该结构会有所不同</span></span><br><span class="line">                    <span class="comment">//该部分用于Hull Shader里面</span></span><br><span class="line">                    <span class="comment">//定义了patch的属性</span></span><br><span class="line">                    <span class="comment">//Tessellation Factor和Inner Tessellation Factor</span></span><br><span class="line">                    <span class="type">float</span> edge[<span class="number">3</span>] : SV_TESSFACTOR;</span><br><span class="line">                    <span class="type">float</span> inside  : SV_INSIDETESSFACTOR;</span><br><span class="line">                &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="function">TessVertex <span class="title">tessvert</span> <span class="params">(VertexInput v)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//顶点着色器函数</span></span><br><span class="line">                    TessVertex o;</span><br><span class="line">                    o.vertex  = v.vertex;</span><br><span class="line">                    o.normal  = v.normal;</span><br><span class="line">                    o.tangent = v.tangent;</span><br><span class="line">                    o.uv      = v.uv;</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="type">float</span> _TessellationUniform;</span><br><span class="line">                <span class="function">OutputPatchConstant <span class="title">hsconst</span> <span class="params">(InputPatch&lt;TessVertex,<span class="number">3</span>&gt; patch)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//定义曲面细分的参数</span></span><br><span class="line">                    OutputPatchConstant o;</span><br><span class="line">                    o.edge[<span class="number">0</span>] = _TessellationUniform;</span><br><span class="line">                    o.edge[<span class="number">1</span>] = _TessellationUniform;</span><br><span class="line">                    o.edge[<span class="number">2</span>] = _TessellationUniform;</span><br><span class="line">                    o.inside  = _TessellationUniform;</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                [<span class="built_in">UNITY_domain</span>(<span class="string">&quot;tri&quot;</span>)]<span class="comment">//确定图元，quad,triangle等</span></span><br><span class="line">                [<span class="built_in">UNITY_partitioning</span>(<span class="string">&quot;fractional_odd&quot;</span>)]<span class="comment">//拆分edge的规则，equal_spacing,fractional_odd,fractional_even</span></span><br><span class="line">                [<span class="built_in">UNITY_outputtopology</span>(<span class="string">&quot;triangle_cw&quot;</span>)]</span><br><span class="line">                [<span class="built_in">UNITY_patchconstantfunc</span>(<span class="string">&quot;hsconst&quot;</span>)]<span class="comment">//一个patch一共有三个点，但是这三个点都共用这个函数</span></span><br><span class="line">                [<span class="built_in">UNITY_outputcontrolpoints</span>(<span class="number">3</span>)]      <span class="comment">//不同的图元会对应不同的控制点</span></span><br><span class="line">              </span><br><span class="line">                <span class="function">TessVertex <span class="title">hullProgram</span> <span class="params">(InputPatch&lt;TessVertex,<span class="number">3</span>&gt; patch,uint id : SV_OutputControlPointID)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//定义hullshaderV函数</span></span><br><span class="line">                    <span class="keyword">return</span> patch[id];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                [<span class="built_in">UNITY_domain</span>(<span class="string">&quot;tri&quot;</span>)]<span class="comment">//同样需要定义图元</span></span><br><span class="line">                <span class="function">VertexOutput <span class="title">ds</span> <span class="params">(OutputPatchConstant tessFactors, <span class="type">const</span> OutputPatch&lt;TessVertex,<span class="number">3</span>&gt;patch,float3 bary :SV_DOMAINLOCATION)</span></span></span><br><span class="line"><span class="function">                <span class="comment">//bary:重心坐标</span></span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    VertexInput v;</span><br><span class="line">                    v.vertex = patch[<span class="number">0</span>].vertex*bary.x + patch[<span class="number">1</span>].vertex*bary.y + patch[<span class="number">2</span>].vertex*bary.z;</span><br><span class="line">			        v.tangent = patch[<span class="number">0</span>].tangent*bary.x + patch[<span class="number">1</span>].tangent*bary.y + patch[<span class="number">2</span>].tangent*bary.z;</span><br><span class="line">			        v.normal = patch[<span class="number">0</span>].normal*bary.x + patch[<span class="number">1</span>].normal*bary.y + patch[<span class="number">2</span>].normal*bary.z;</span><br><span class="line">			        v.uv = patch[<span class="number">0</span>].uv*bary.x + patch[<span class="number">1</span>].uv*bary.y + patch[<span class="number">2</span>].uv*bary.z;</span><br><span class="line"></span><br><span class="line">                    VertexOutput o = <span class="built_in">vert</span> (v);</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">            <span class="function">float4 <span class="title">frag</span> <span class="params">(VertexOutput i)</span> : SV_Target</span></span><br><span class="line"><span class="function">            &#123;</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">float4</span>(<span class="number">1.0</span>,<span class="number">1.0</span>,<span class="number">1.0</span>,<span class="number">1.0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Fallback <span class="string">&quot;Diffuse&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Demo2：和置换贴图结合"><a href="#Demo2：和置换贴图结合" class="headerlink" title="Demo2：和置换贴图结合"></a>Demo2：和置换贴图结合</h3><ul>
<li><p><strong>基本原理</strong></p>
</li>
<li><ul>
<li>通过置换贴图的深度，来把顶点沿着它的法线方向进行移动，以此来对mash进行形变。</li>
</ul>
</li>
<li><p>代码部分和上个Demo的区别也就是在顶点shader部分对顶点进行了位移、和一些计算法线的参数。（因为顶点位移后没有对应的法线贴图，所以需要自己计算一下，具体怎么算先不讲，属于置换贴图部分的知识）</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//曲面细分Demo2：与置换贴图结合使用</span></span><br><span class="line">Shader <span class="string">&quot;Unlit/Tess_Diss_Shader&quot;</span></span><br><span class="line">&#123;</span><br><span class="line">    Properties</span><br><span class="line">    &#123;</span><br><span class="line">        _MainTex(<span class="string">&quot;MainTex&quot;</span>,<span class="number">2</span>D) = <span class="string">&quot;white&quot;</span>&#123;&#125;</span><br><span class="line">        _DisplacementMap(<span class="string">&quot;_DisplacementMap&quot;</span>,<span class="number">2</span>D)=<span class="string">&quot;gray&quot;</span>&#123;&#125;</span><br><span class="line">        _DisplacementStrength(<span class="string">&quot;DisplacementStrength&quot;</span>,<span class="built_in">Range</span>(<span class="number">0</span>,<span class="number">1</span>)) = <span class="number">0</span></span><br><span class="line">        _Smoothness(<span class="string">&quot;Smoothness&quot;</span>,<span class="built_in">Range</span>(<span class="number">0</span>,<span class="number">5</span>))=<span class="number">0.5</span></span><br><span class="line">        _TessellationUniform(<span class="string">&quot;TessellationUniform&quot;</span>,<span class="built_in">Range</span>(<span class="number">1</span>,<span class="number">64</span>)) = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    SubShader</span><br><span class="line">    &#123;</span><br><span class="line">        Tags &#123; <span class="string">&quot;RenderType&quot;</span>=<span class="string">&quot;Opaque&quot;</span> </span><br><span class="line">               <span class="string">&quot;LightMode&quot;</span>=<span class="string">&quot;ForwardBase&quot;</span>&#125;</span><br><span class="line">        LOD <span class="number">100</span></span><br><span class="line">        Pass</span><br><span class="line">        &#123;</span><br><span class="line">            CGPROGRAM</span><br><span class="line">            <span class="comment">//定义2个函数 hull domain</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> hull hullProgram</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> domain ds</span></span><br><span class="line">           </span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> vertex tessvert</span></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> fragment frag</span></span><br><span class="line"></span><br><span class="line">            <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;UnityCG.cginc&quot;</span></span></span><br><span class="line">            <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Lighting.cginc&quot;</span></span></span><br><span class="line">            <span class="comment">//引入曲面细分的头文件</span></span><br><span class="line">            <span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Tessellation.cginc&quot;</span> </span></span><br><span class="line"></span><br><span class="line">            <span class="meta">#<span class="keyword">pragma</span> target 5.0</span></span><br><span class="line">            <span class="type">float</span> _TessellationUniform;</span><br><span class="line">            sampler2D _MainTex;</span><br><span class="line">            float4 _MainTex_ST;</span><br><span class="line"></span><br><span class="line">            sampler2D _DisplacementMap;</span><br><span class="line">            float4 _DisplacementMap_ST;</span><br><span class="line">            <span class="type">float</span> _DisplacementStrength;</span><br><span class="line">            <span class="type">float</span> _Smoothness;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">struct</span> <span class="title class_">VertexInput</span></span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex : POSITION;</span><br><span class="line">                float2 uv : TEXCOORD0;</span><br><span class="line">                float3 normal : NORMAL;</span><br><span class="line">                float4 tangent : TANGENT;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">struct</span> <span class="title class_">VertexOutput</span></span><br><span class="line">            &#123;</span><br><span class="line">                float2 uv : TEXCOORD0;</span><br><span class="line">                float4 pos : SV_POSITION;</span><br><span class="line">                float4 worldPos:TEXCOORD1;</span><br><span class="line">                half3 tspace0 :TEXCOORD2;</span><br><span class="line">                half3 tspace1 :TEXCOORD3;</span><br><span class="line">                half3 tspace2 :TEXCOORD4;</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="function">VertexOutput <span class="title">vert</span> <span class="params">(VertexInput v)</span></span></span><br><span class="line"><span class="function">            <span class="comment">//这个函数应用在domain函数中，用来空间转换的函数</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                VertexOutput o;</span><br><span class="line">                o.uv = <span class="built_in">TRANSFORM_TEX</span>(v.uv,_MainTex);</span><br><span class="line">                <span class="comment">//Displacement</span></span><br><span class="line">                <span class="comment">//由于并不是在Fragnent shader中读取图片，GPU无法获取mipmap信息，因此需要使用tex2Dlod来读取图片，使用第四坐标作为mipmap的level，这里取了0</span></span><br><span class="line">                <span class="type">float</span> Displacement = <span class="built_in">tex2Dlod</span>(_DisplacementMap,<span class="built_in">float4</span>(o.uv.xy,<span class="number">0.0</span>,<span class="number">0.0</span>)).g;</span><br><span class="line">                Displacement = (Displacement<span class="number">-0.5</span>)*_DisplacementStrength;</span><br><span class="line">                v.normal = <span class="built_in">normalize</span>(v.normal);</span><br><span class="line">                v.vertex.xyz += v.normal * Displacement;</span><br><span class="line"></span><br><span class="line">                o.pos = <span class="built_in">UnityObjectToClipPos</span>(v.vertex);</span><br><span class="line">                o.worldPos = <span class="built_in">mul</span>(unity_ObjectToWorld, v.vertex);</span><br><span class="line"></span><br><span class="line">                <span class="comment">//计算切线空间转换矩阵</span></span><br><span class="line">                half3 vNormal = <span class="built_in">UnityObjectToWorldNormal</span>(v.normal);</span><br><span class="line">                half3 vTangent = <span class="built_in">UnityObjectToWorldDir</span>(v.tangent.xyz);</span><br><span class="line">                <span class="comment">//compute bitangent from cross product of normal and tangent</span></span><br><span class="line">                half tangentSign = v.tangent.w * unity_WorldTransformParams.w;</span><br><span class="line">                half3 vBitangent = <span class="built_in">cross</span>(vNormal,vTangent)*tangentSign;</span><br><span class="line">                <span class="comment">//output the tangent space matrix</span></span><br><span class="line">                o.tspace0 = <span class="built_in">half3</span>(vTangent.x,vBitangent.x,vNormal.x);</span><br><span class="line">                o.tspace1 = <span class="built_in">half3</span>(vTangent.y,vBitangent.y,vNormal.y);</span><br><span class="line">                o.tspace2 = <span class="built_in">half3</span>(vTangent.z,vBitangent.z,vNormal.z);</span><br><span class="line">                <span class="keyword">return</span> o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//有些硬件不支持曲面细分着色器，定义了该宏就能够在不支持的硬件上不会变粉，也不会报错</span></span><br><span class="line">            <span class="meta">#<span class="keyword">ifdef</span> UNITY_CAN_COMPILE_TESSELLATION</span></span><br><span class="line">                <span class="comment">//顶点着色器结构的定义</span></span><br><span class="line">                <span class="keyword">struct</span> <span class="title class_">TessVertex</span>&#123;</span><br><span class="line">                    float4 vertex : INTERNALTESSPOS;</span><br><span class="line">                    float3 normal : NORMAL;</span><br><span class="line">                    float4 tangent : TANGENT;</span><br><span class="line">                    float2 uv : TEXCOORD0;</span><br><span class="line">                &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">struct</span> <span class="title class_">OutputPatchConstant</span> &#123; </span><br><span class="line">                    <span class="comment">//不同的图元，该结构会有所不同</span></span><br><span class="line">                    <span class="comment">//该部分用于Hull Shader里面</span></span><br><span class="line">                    <span class="comment">//定义了patch的属性</span></span><br><span class="line">                    <span class="comment">//Tessellation Factor和Inner Tessellation Factor</span></span><br><span class="line">                    <span class="type">float</span> edge[<span class="number">3</span>] : SV_TESSFACTOR;</span><br><span class="line">                    <span class="type">float</span> inside  : SV_INSIDETESSFACTOR;</span><br><span class="line">                &#125;;</span><br><span class="line"></span><br><span class="line">                <span class="function">TessVertex <span class="title">tessvert</span> <span class="params">(VertexInput v)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//顶点着色器函数</span></span><br><span class="line">                    TessVertex o;</span><br><span class="line">                    o.vertex  = v.vertex;</span><br><span class="line">                    o.normal  = v.normal;</span><br><span class="line">                    o.tangent = v.tangent;</span><br><span class="line">                    o.uv      = v.uv;</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//float _TessellationUniform;</span></span><br><span class="line">                <span class="function">OutputPatchConstant <span class="title">hsconst</span> <span class="params">(InputPatch&lt;TessVertex,<span class="number">3</span>&gt; patch)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//定义曲面细分的参数</span></span><br><span class="line">                    OutputPatchConstant o;</span><br><span class="line">                    o.edge[<span class="number">0</span>] = _TessellationUniform;</span><br><span class="line">                    o.edge[<span class="number">1</span>] = _TessellationUniform;</span><br><span class="line">                    o.edge[<span class="number">2</span>] = _TessellationUniform;</span><br><span class="line">                    o.inside  = _TessellationUniform;</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                [<span class="built_in">UNITY_domain</span>(<span class="string">&quot;tri&quot;</span>)]<span class="comment">//确定图元，quad,triangle等</span></span><br><span class="line">                [<span class="built_in">UNITY_partitioning</span>(<span class="string">&quot;fractional_odd&quot;</span>)]<span class="comment">//拆分edge的规则，equal_spacing,fractional_odd,fractional_even</span></span><br><span class="line">                [<span class="built_in">UNITY_outputtopology</span>(<span class="string">&quot;triangle_cw&quot;</span>)]</span><br><span class="line">                [<span class="built_in">UNITY_patchconstantfunc</span>(<span class="string">&quot;hsconst&quot;</span>)]<span class="comment">//一个patch一共有三个点，但是这三个点都共用这个函数</span></span><br><span class="line">                [<span class="built_in">UNITY_outputcontrolpoints</span>(<span class="number">3</span>)]      <span class="comment">//不同的图元会对应不同的控制点</span></span><br><span class="line">              </span><br><span class="line">                <span class="function">TessVertex <span class="title">hullProgram</span> <span class="params">(InputPatch&lt;TessVertex,<span class="number">3</span>&gt; patch,uint id : SV_OutputControlPointID)</span></span>&#123;</span><br><span class="line">                    <span class="comment">//定义hullshaderV函数</span></span><br><span class="line">                    <span class="keyword">return</span> patch[id];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                [<span class="built_in">UNITY_domain</span>(<span class="string">&quot;tri&quot;</span>)]<span class="comment">//同样需要定义图元</span></span><br><span class="line">                <span class="function">VertexOutput <span class="title">ds</span> <span class="params">(OutputPatchConstant tessFactors, <span class="type">const</span> OutputPatch&lt;TessVertex,<span class="number">3</span>&gt;patch,float3 bary :SV_DOMAINLOCATION)</span></span></span><br><span class="line"><span class="function">                <span class="comment">//bary:重心坐标</span></span></span><br><span class="line"><span class="function">                </span>&#123;</span><br><span class="line">                    VertexInput v;</span><br><span class="line">                    v.vertex = patch[<span class="number">0</span>].vertex*bary.x + patch[<span class="number">1</span>].vertex*bary.y + patch[<span class="number">2</span>].vertex*bary.z;</span><br><span class="line">			        v.tangent = patch[<span class="number">0</span>].tangent*bary.x + patch[<span class="number">1</span>].tangent*bary.y + patch[<span class="number">2</span>].tangent*bary.z;</span><br><span class="line">			        v.normal = patch[<span class="number">0</span>].normal*bary.x + patch[<span class="number">1</span>].normal*bary.y + patch[<span class="number">2</span>].normal*bary.z;</span><br><span class="line">			        v.uv = patch[<span class="number">0</span>].uv*bary.x + patch[<span class="number">1</span>].uv*bary.y + patch[<span class="number">2</span>].uv*bary.z;</span><br><span class="line"></span><br><span class="line">                    VertexOutput o = <span class="built_in">vert</span> (v);</span><br><span class="line">                    <span class="keyword">return</span> o;</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">            <span class="function">float4 <span class="title">frag</span> <span class="params">(VertexOutput i)</span> : SV_Target</span></span><br><span class="line"><span class="function">            &#123;</span></span><br><span class="line">                float3 lightDir =_WorldSpaceLightPos0.xyz;</span><br><span class="line">                float3 tnormal = <span class="built_in">UnpackNormal</span> (<span class="built_in">tex2D</span> (_DisplacementMap, i.uv));</span><br><span class="line">                half3 worldNormal;</span><br><span class="line">                worldNormal.x=<span class="built_in">dot</span>(i.tspace0,tnormal);</span><br><span class="line">                worldNormal.y= <span class="built_in">dot</span> (i.tspace1, tnormal);</span><br><span class="line">                worldNormal.z=<span class="built_in">dot</span> (i.tspace2, tnormal);</span><br><span class="line">                float3 albedo=<span class="built_in">tex2D</span> (_MainTex, i.uv). rgb;</span><br><span class="line">                float3 lightColor = _LightColor0.rgb;</span><br><span class="line">                float3 diffuse = albedo * lightColor * <span class="built_in">DotClamped</span>(lightDir,worldNormal);</span><br><span class="line">                float3 viewDir = <span class="built_in">normalize</span> (_WorldSpaceCameraPos. xyz-i. worldPos. xyz);</span><br><span class="line">                float3 halfVector = <span class="built_in">normalize</span>(lightDir + viewDir);</span><br><span class="line">                float3 specular = albedo * <span class="built_in">pow</span> (<span class="built_in">DotClamped</span> (halfVector, worldNormal), _Smoothness * <span class="number">100</span>);</span><br><span class="line">                float3 result = specular + diffuse;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">float4</span>(result, <span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">float4</span>(result,<span class="number">1.0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Fallback <span class="string">&quot;Diffuse&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="四、几何着色器-Geometry-shader-（GS）"><a href="#四、几何着色器-Geometry-shader-（GS）" class="headerlink" title="四、几何着色器-Geometry shader （GS）"></a>四、几何着色器-Geometry shader （GS）</h1><h2 id="1-GS的输入和输出"><a href="#1-GS的输入和输出" class="headerlink" title="1.GS的输入和输出"></a>1.GS的输入和输出</h2><h3 id="输入-1"><a href="#输入-1" class="headerlink" title="输入"></a>输入</h3><ul>
<li>输入为单个图元（三角形、矩形、线等等）</li>
<li>根据不同的图元，shader中会出现不同的顶点数量</li>
</ul>
<h3 id="输出-1"><a href="#输出-1" class="headerlink" title="输出"></a>输出</h3><ul>
<li>输出也为图元（一个或者多个）</li>
<li>同时还要定义输出的最大顶点数</li>
<li>输出的图元需要自己一个点一个点的自己去构建，顺序很重要（这个着色器最主要的功能：自己构建图元）</li>
</ul>
<h2 id="2-流程"><a href="#2-流程" class="headerlink" title="2.流程"></a>2.流程</h2><ul>
<li>输入输出结构</li>
<li>定义最大输出定点数</li>
<li>几何着色器</li>
</ul>
<h1 id="五、其他资料"><a href="#五、其他资料" class="headerlink" title="五、其他资料"></a>五、其他资料</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/mazhenyu/p/3831986.html几何着色器">https://www.cnblogs.com/mazhenyu/p/3831986.html几何着色器</a></li>
<li>catlike-曲面细分着色器：</li>
<li><a target="_blank" rel="noopener" href="https://catlikecoding.com/unity/tutorials/advanced-rendering/tessellation/">https://catlikecoding.com/unity/tutorials/advanced-rendering/tessellation/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.yuque.com/sugelameiyoudi-jadcc/okgm7e/xyx5h5">https://www.yuque.com/sugelameiyoudi-jadcc/okgm7e/xyx5h5</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/433385999">https://zhuanlan.zhihu.com/p/433385999</a></li>
</ul>
<hr>
<h1 id="Homework"><a href="#Homework" class="headerlink" title="Homework"></a>Homework</h1><p><img src="/2023/02/15/HPP_Graphics_3.3_TessAndGs/Homework1.png" alt="Homework1"></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" rel="tag"># 图形学</a>
              <a href="/tags/%E7%99%BE%E4%BA%BA%E8%AE%A1%E5%88%92/" rel="tag"># 百人计划</a>
              <a href="/tags/%E6%9B%B2%E9%9D%A2%E7%BB%86%E5%88%86%E7%9D%80%E8%89%B2%E5%99%A8/" rel="tag"># 曲面细分着色器</a>
              <a href="/tags/%E5%87%A0%E4%BD%95%E7%9D%80%E8%89%B2%E5%99%A8/" rel="tag"># 几何着色器</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/02/15/HPP_Graphics_3.1_%E6%A8%A1%E6%9D%BF%E6%B5%8B%E8%AF%95%E5%92%8C%E6%B7%B1%E5%BA%A6%E6%B5%8B%E8%AF%95/" rel="prev" title="HPP_Graphics_2.7 模板测试和深度测试">
                  <i class="fa fa-chevron-left"></i> HPP_Graphics_2.7 模板测试和深度测试
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/02/15/HPP_Graphics_3.4_%E5%BB%B6%E8%BF%9F%E6%B8%B2%E6%9F%93%E7%AE%A1%E7%BA%BF/" rel="next" title="HPP_Graphics_3.4 前向渲染与延迟渲染">
                  HPP_Graphics_3.4 前向渲染与延迟渲染 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">WhiteTail</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>



    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
